<script src="../node_modules/vue/dist/vue.js"></script>

<script>
const RulesPlugin = {
  install(Vue) {
    Vue.mixin({
      created() {
        const { rules } = this.$options;
        if(rules) {
          Object.keys(rules).forEach(property => {
            const { validate, message } = rules[property];

            this.$watch(property, (newProp) => {
              if (!validate(newProp)) {
                console.log(message);
              }
            })
          })
        }
      }
    })
  }
}

Vue.use(RulesPlugin)
</script>
